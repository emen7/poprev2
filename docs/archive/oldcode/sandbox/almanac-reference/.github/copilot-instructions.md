<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" class="logo" width="120"/>

#

---

# Master Universe Almanac Project Instructions

This document provides comprehensive guidelines for contributing to the Master Universe Almanac modernization project, which combines the existing almanac with a new Urantia Book text reader experience.

## Project Overview

The Master Universe Almanac serves as a specialized reference resource for students of the Urantia Book. This modernization effort transforms the existing reference tool (masteruniverse.org) into a contemporary digital resource while preserving its valuable content.

### Core Objectives

- Improve readability across all devices
- Create a responsive design that works seamlessly on desktops, tablets, and mobile devices
- Enhance user experience for students and researchers
- Integrate almanac reference materials with a Urantia Book reader
- Replace current HTML page references with an integrated UB Reader

## Repository Structure

The project uses a **monorepo approach** to house all components, ensuring tight integration between the Almanac and the Urantia Book Reader.

### Monorepo Benefits

- Unified versioning across all components
- Simplified code sharing between Almanac and Reader
- Atomic commits for changes spanning multiple components
- Streamlined cross-component refactoring
- Single source of truth for the entire codebase

### Repository Organization

```
master-universe-almanac/
├── apps/
│   ├── almanac/        # Almanac application
│   ├── reader/         # Urantia Book Reader application
│   └── cms/            # Content Management System
├── packages/
│   ├── ui/             # Shared UI components
│   ├── data/           # Data access and management
│   ├── utils/          # Shared utilities
│   └── config/         # Shared configuration
├── data/
│   ├── urantia-book/   # Urantia Book content in JSON format
│   └── almanac/        # Almanac datasets
└── docs/               # Project documentation
```

### Performance Optimizations

- Use Git LFS for large media files (audio content)
- Implement sparse checkouts for working with specific parts of the codebase
- Maintain clean commit history through rebasing and atomic commits

## Technical Architecture

### Technology Stack

- **Frontend Framework**: React (functional components) with Next.js
- **Styling**: CSS Modules/Styled Components with Material Design elements
- **Deployment**: Vercel
- **Development Environment**: VS Code
- **Version Control**: GitHub (user: emen7)
- **Build System**: Turborepo for managing the monorepo build process

### Performance Optimization

- Implement lazy loading for non-critical resources
- Use code splitting to deliver code in smaller chunks
- Leverage server-side rendering for improved initial load times and SEO
- Optimize media assets for faster loading

## Development Guidelines

### Code Style

- Use double quotes for JavaScript code
- Use tabs for indentation
- Include inline comments where appropriate
- Mark auto-generated code with a comment like "Generated by Copilot"
- Follow semantic HTML practices
- Implement proper ARIA labels for accessibility

### Component Structure

- Create modular, reusable components
- Follow the single responsibility principle
- Implement proper prop validation
- Use React hooks for state management
- Document component APIs with JSDoc comments

### Responsive Design

- Design mobile-first, then enhance for larger screens
- Ensure tables allow horizontal scrolling on mobile devices
- Break large datasets into modular sections or cards
- Test thoroughly on multiple device sizes (desktop, Android phones, iPads)

## Navigation and UI

### Core Navigation Features

- Implement a left-top-floating hamburger menu for quick internal links
- Create a floating settings icon with the following options:
  - Dark/light mode toggle (default to dark mode)
  - Progressive font size adjustments
- Ensure keyboard navigation support for accessibility

### Content Presentation

- Present datasets as "cards" on the main website
- Implement a consistent card design pattern
- Enable sharing functionality for specific reference materials
- Break large datasets into modular sections

## Urantia Book Reader Integration

### Core Reader Features

The Urantia Book Reader will serve as both an integrated component of the Almanac and a standalone reading application, replacing the current system of HTML page references.

#### Reading Experience

- Emulate Kindle-like features for a modern reading experience
- Implement text customization (size adjustment, font selection)
- Support light/dark theme toggle for comfortable reading in different environments
- Create a responsive layout that adapts to all device sizes

#### Annotation System

- Develop an auto-referencing note-taking feature that maintains context within the book's structure
- Implement highlighting capabilities for important passages
- Create a quote collection system for saving and organizing meaningful content
- Ensure annotations persist across sessions and devices

#### Audio Integration

- Integrate MP3 playback of pre-recorded audio content
- Implement browser-based text-to-speech functionality
- Synchronize text and audio content for seamless transitions

#### Reference System

- Create a bidirectional linking system between Almanac content and the Urantia Book
- Implement precise referencing to papers, sections, and paragraphs
- Support deep linking for sharing specific passages

### Technical Implementation

- Utilize the existing JSON-formatted content from the data repository
- Implement modular content loading for optimal performance
- Create a persistent state management system for user preferences and annotations
- Optimize for both online and offline reading experiences

## Content Management System (CMS)

### Backend CMS Interface

The project includes a non-public content management system to facilitate the creation and management of dataset cards. This system is accessible only to authorized content creators.

#### CMS Core Features

1. **Dataset Card Creation**
   - Structured forms for creating new dataset cards
   - Rich text editor with formatting options
   - Table builder using CSS Grid/Flexbox (not HTML tables)
   - Citation linking to Urantia Book passages through the integrated reader
2. **Content Organization**
   - Drag-and-drop interface for arranging cards
   - Hierarchical organization capabilities
   - Tagging system for cross-referencing
   - Bulk operations for multiple cards
3. **Navigation Management**
   - Automatic generation of site navigation based on content structure
   - Custom ordering of navigation items
   - Preview of navigation changes before publishing
4. **Publishing Workflow**
   - Draft/review/publish stages
   - Scheduled publishing
   - Version history and rollback capabilities
   - Preview functionality for different device sizes

#### CMS Technical Implementation

- Secure authentication for administrative access
- RESTful API for content operations
- Real-time validation and error checking
- Optimized database queries for performance

## Accessibility Standards

- Implement ARIA labels throughout the application
- Use semantic HTML structures
- Ensure keyboard navigation support
- Maintain appropriate color contrast ratios
- Support screen readers and assistive technologies
- Implement progressive enhancement principles

## Getting Started

1. Clone the repository:

```bash
git clone https://github.com/emen7/master-universe-almanac.git
```

2. Install dependencies:

```bash
npm install
```

3. Run the development server:

```bash
npm run dev
```

4. Access the local development environment at http://localhost:3000

## Contributing

1. Create a new branch for your feature or bugfix:

```bash
git checkout -b feature/your-feature-name
```

2. Make your changes and commit them with descriptive messages
3. Push your branch and create a pull request
4. Wait for review and address any feedback

## Resources

- [Original Master Universe Almanac](https://masteruniverse.org)
- [Urantia Book Online](https://urantia.org/en/urantia-book-standardized)
- [Next.js Documentation](https://nextjs.org/docs)
- [React Documentation](https://reactjs.org/docs/getting-started.html)
- [Material Design Guidelines](https://material.io/design)
- [Turborepo Documentation](https://turbo.build/repo/docs)
- [Data Repository](https://github.com/emen7/data)

## Contact

For questions or support, please contact the project maintainer at [maintainer email] or open an issue on GitHub.

---

_Last updated: March 13, 2025_

<div style="text-align: center">⁂</div>

[^1]: https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/6754629/95a6c9f2-e8a6-4cab-b5b0-0ccfd6b65688/Evaluating-the-Urantia-Book-Reader-for-the-Almanac.pdf
